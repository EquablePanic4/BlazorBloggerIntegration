@namespace NaszePepowoBlazor.Shared.Components
@using NaszePepowoBlazor.Statics
@inject ActivePage activePage

@if (SyncState)
{
    foreach (var post in activePage.Posts.Where(w => w.labels.Contains("kgw") || w.labels.Contains("*")).Skip(pageNumber * 10).Take(10).ToList())
    {
        <PostComponent AuthorName="@post.author.displayName" PostTitle="@post.title" PublishDate="@post.published">
            @((MarkupString)post.content)
        </PostComponent>
    }
}

else
{
    <h3>Proszę czekać, trwa ładowanie postów</h3>
}

@code {
    public bool SyncState { get; set; } = false;
    private int pageNumber = 0;
}
